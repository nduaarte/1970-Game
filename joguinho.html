<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>game</title>
    <style>
        canvas {
            position: absolute;
            top: 0px;
            bottom: 0px;
            left: 0px;
            right: 0px;
            margin: auto;
        }
    </style>
    <canvas id="game" width="400px" height="600px" style="border: 2px solid black">
        O canvas não está ativado no seu Browser
    </canvas>    
</head>
<body>
    <script>
        document.addEventListener("keydown", function(e){
            switch(e.keyCode) {
                case 37:
                    speedX = -9;
                    left = true;
                    right = false;
                    sair == true;
                    break;
                //esquerda

                case 39:
                    speedX = 9;
                    right = true;
                    left = false;
                    break;
                //direita
            }
        });

        document.addEventListener("keyup", function(e){
            switch(e.keyCode) {
                case 37:
                    speedX = 0;
                    break;

                case 39:
                    speedX = 0;
                    break;  
            }
        });

        var 
            ctx, 
            altura= 600,
            largura = 400,
            frames = 0,
            speedX = 0,
            left = false,
            right = false,
        //fim das variaveis



        limbo = {
            x: 0,
            xLargura: largura,
            y: 510,
            yAltura: altura,
            art: function() {
            ctx.fillStyle = "#87CEEB";
            ctx.fillRect(this.x, this.y, this.xLargura, this.yAltura);                   
            }
        };

        ball = {
            x: 190,
            xLargura: 15,
            y: 200,
            yAltura: 15, 
            speedBall: 3,

            art: function() {
                ctx.fillStyle = "black";
                ctx.fillRect(this.x, this.y, this.xLargura, this.yAltura);            
            },

            limpar: function() {
                ctx.clearRect(this.x, this.y, this.xLargura, this.yAltura);
            }, 

            atualiza: function() {
                this.limpar();
                this.y += this.speedBall;
                this.x += this.speedBall;
                this.art();
            }
        }; 

        board = {
            x: 150,
            y: 500,
            xLargura: 100,
            yAltura: 6,
            
            art: function() {
                ctx.fillStyle = "black";
                ctx.fillRect(this.x, this.y, this.xLargura, this.yAltura);
            },

            limpar: function() {
                ctx.clearRect(this.x, this.y, this.xLargura, this.yAltura);
            },

            atualiza: function() {
                if(left == true || right == true) {
                    this.limpar();
                    this.x += speedX;
                    this.art();
                };

                if(this.x <= 0) {
                    this.x = 0;
                }

                if(this.x + this.xLargura >= 400) {
                    this.x = 300;
                }
            } 
        }
        //fim dos objetos



        function main(){
            roda();
        }


        function atualiza (){
            frames++;
            ball.atualiza();
            board.atualiza();
        }

        function art() {
            var canvas = document.getElementById("game")
            ctx = canvas.getContext("2d");

            ball.art();
            limbo.art();
            board.art();

            ctx.fillStyle = "red"
            ctx.fillRect(150,0,100,5);
        }

        function limpar() {
            ball.limpar();            
            board.limpar();

        }

       function roda() {
            art();           
            atualiza();
            window.requestAnimationFrame(roda);
        }

        main();
    </script>
</body>
</html>
